{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\daa pbl\\\\Smart-Travel-Planner\\\\src\\\\components\\\\userDetails.component.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class UserData extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logOut = () => {\n      window.localStorage.clear(); //window.localStorage.removeItem(\"token\");\n\n      window.location.href = \"/sign-in\";\n    };\n\n    this.state = {\n      userData: \"\"\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:5000/userData\", {\n      method: \"POST\",\n      crossDomain: \"true\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      body: JSON.stringify({\n        token: window.localStorage.getItem(\"token\")\n      })\n    }).then(result => result.json()).then(data => {\n      console.log(data, \"userData\");\n      this.setState({\n        userData: data.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Name\", /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: this.state.userData.firstname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this), \"Email\", /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: this.state.userData.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.logOut,\n        className: \"btn btn-primary\",\n        children: \"Log Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this);\n  }\n\n} // import React, { Component } from 'react';\n// import './UserData.css'; // Import the CSS file for styling\n// export default class UserData extends Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             userData: \"\",\n//             loading: true,\n//             profilePic: null, // State to hold the uploaded profile picture\n//         };\n//     }\n//     componentDidMount() {\n//         fetch(\"http://localhost:5000/userData\", {\n//             method: \"POST\",\n//             headers: {\n//                 \"Content-Type\": \"application/json\",\n//             },\n//             body: JSON.stringify({\n//                 token: window.localStorage.getItem(\"token\"),\n//             }),\n//         })\n//         .then((result) => result.json())\n//         .then((data) => {\n//             this.setState({ userData: data.data, loading: false });\n//         });\n//     }\n//     handleLogout = () => {\n//         // Logic for logging out\n//         window.localStorage.removeItem(\"token\");\n//         // Redirect to login or home page\n//         window.location.href = \"/sign-in\"; // Adjust the path as needed\n//     };\n//     handlePhotoChange = (event) => {\n//         const file = event.target.files[0];\n//         if (file) {\n//             const reader = new FileReader();\n//             reader.onloadend = () => {\n//                 this.setState({ profilePic: reader.result }); // Set the uploaded image as the profile picture\n//             };\n//             reader.readAsDataURL(file); // Convert the file to a base64 URL\n//         }\n//     };\n//     render() {\n//         if (this.state.loading) {\n//             return <h2>Loading...</h2>;\n//         }\n//         const defaultProfilePic = \"https://via.placeholder.com/150\"; // Default profile picture URL\n//         const profilePic = this.state.profilePic || defaultProfilePic; // Use uploaded picture or default\n//         return (\n//             <div className=\"user-data-container\">\n//                 <img \n//                     src={profilePic} \n//                     alt=\"Profile\" \n//                     className=\"profile-pic\" \n//                 />\n//                 <h1>{this.state.userData.firstname}</h1>\n//                 <p>Email: {this.state.userData.email}</p>\n//                 <input \n//                     type=\"file\" \n//                     accept=\"image/*\" \n//                     onChange={this.handlePhotoChange} \n//                     className=\"file-input\" \n//                 />\n//                 <div className=\"button-container\">\n//                     <button onClick={this.handleLogout} className=\"btn\">Logout</button>\n//                 </div>\n//             </div>\n//         );\n//     }\n// }","map":{"version":3,"sources":["C:/Users/HP/Desktop/daa pbl/Smart-Travel-Planner/src/components/userDetails.component.js"],"names":["React","Component","UserData","constructor","props","logOut","window","localStorage","clear","location","href","state","userData","componentDidMount","fetch","method","crossDomain","headers","Accept","body","JSON","stringify","token","getItem","then","result","json","data","console","log","setState","render","firstname","email"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AACC,eAAe,MAAMC,QAAN,SAAuBD,SAAvB,CAAiC;AAC/CE,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SAwBhBC,MAxBgB,GAwBT,MAAI;AACTC,MAAAA,MAAM,CAACC,YAAP,CAAoBC,KAApB,GADS,CAET;;AACAF,MAAAA,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAqB,UAArB;AACD,KA5Be;;AAEhB,SAAKC,KAAL,GAAW;AACTC,MAAAA,QAAQ,EAAC;AADA,KAAX;AAGD;;AACCC,EAAAA,iBAAiB,GAAE;AACfC,IAAAA,KAAK,CAAC,gCAAD,EAAkC;AACnCC,MAAAA,MAAM,EAAC,MAD4B;AAEnCC,MAAAA,WAAW,EAAC,MAFuB;AAGnCC,MAAAA,OAAO,EAAC;AACN,wBAAe,kBADT;AAENC,QAAAA,MAAM,EAAC,kBAFD;AAGN,uCAA+B;AAHzB,OAH2B;AAQnCC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAClBC,QAAAA,KAAK,EAAChB,MAAM,CAACC,YAAP,CAAoBgB,OAApB,CAA4B,OAA5B;AADY,OAAf;AAR8B,KAAlC,CAAL,CAWKC,IAXL,CAWWC,MAAD,IAAUA,MAAM,CAACC,IAAP,EAXpB,EAYGF,IAZH,CAYSG,IAAD,IAAQ;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAAiB,UAAjB;AACA,WAAKG,QAAL,CAAc;AAAClB,QAAAA,QAAQ,EAACe,IAAI,CAACA;AAAf,OAAd;AACD,KAfH;AAgBH;;AAMDI,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,sCACQ;AAAA,kBAAK,KAAKpB,KAAL,CAAWC,QAAX,CAAoBoB;AAAzB;AAAA;AAAA;AAAA;AAAA,cADR,wBAES;AAAA,kBAAK,KAAKrB,KAAL,CAAWC,QAAX,CAAoBqB;AAAzB;AAAA;AAAA;AAAA;AAAA,cAFT,eAII;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAQ,QAAA,OAAO,EAAE,KAAK5B,MAAtB;AAA6B,QAAA,SAAS,EAAC,iBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AASH;;AAxC4C,C,CA0CjD;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from 'react';\r\n export default class UserData extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      userData:\"\",\r\n    };\r\n  }\r\n    componentDidMount(){\r\n        fetch(\"http://localhost:5000/userData\",{\r\n            method:\"POST\",\r\n            crossDomain:\"true\",\r\n            headers:{\r\n              \"Content-Type\":\"application/json\",\r\n              Accept:\"application/json\",\r\n              \"Access-Control-Allow-Origin\": \"*\",\r\n            },\r\n            body:JSON.stringify({\r\n              token:window.localStorage.getItem(\"token\"),\r\n            }),\r\n          }).then((result)=>result.json())\r\n          .then((data)=>{\r\n            console.log(data,\"userData\");\r\n            this.setState({userData:data.data})\r\n          });\r\n    }\r\n    logOut=()=>{\r\n      window.localStorage.clear();\r\n      //window.localStorage.removeItem(\"token\");\r\n      window.location.href=\"/sign-in\";\r\n    }\r\n    render(){\r\n        return (\r\n            <div>\r\n                Name<h1>{this.state.userData.firstname}</h1>\r\n                Email<h1>{this.state.userData.email}</h1>\r\n                \r\n                <br />\r\n                <button onClick={this.logOut}className=\"btn btn-primary\">Log Out</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// import React, { Component } from 'react';\r\n// import './UserData.css'; // Import the CSS file for styling\r\n\r\n// export default class UserData extends Component {\r\n//     constructor(props) {\r\n//         super(props);\r\n//         this.state = {\r\n//             userData: \"\",\r\n//             loading: true,\r\n//             profilePic: null, // State to hold the uploaded profile picture\r\n//         };\r\n//     }\r\n\r\n//     componentDidMount() {\r\n//         fetch(\"http://localhost:5000/userData\", {\r\n//             method: \"POST\",\r\n//             headers: {\r\n//                 \"Content-Type\": \"application/json\",\r\n//             },\r\n//             body: JSON.stringify({\r\n//                 token: window.localStorage.getItem(\"token\"),\r\n//             }),\r\n//         })\r\n//         .then((result) => result.json())\r\n//         .then((data) => {\r\n//             this.setState({ userData: data.data, loading: false });\r\n//         });\r\n//     }\r\n\r\n//     handleLogout = () => {\r\n//         // Logic for logging out\r\n//         window.localStorage.removeItem(\"token\");\r\n//         // Redirect to login or home page\r\n//         window.location.href = \"/sign-in\"; // Adjust the path as needed\r\n//     };\r\n\r\n//     handlePhotoChange = (event) => {\r\n//         const file = event.target.files[0];\r\n//         if (file) {\r\n//             const reader = new FileReader();\r\n//             reader.onloadend = () => {\r\n//                 this.setState({ profilePic: reader.result }); // Set the uploaded image as the profile picture\r\n//             };\r\n//             reader.readAsDataURL(file); // Convert the file to a base64 URL\r\n//         }\r\n//     };\r\n\r\n//     render() {\r\n//         if (this.state.loading) {\r\n//             return <h2>Loading...</h2>;\r\n//         }\r\n\r\n//         const defaultProfilePic = \"https://via.placeholder.com/150\"; // Default profile picture URL\r\n//         const profilePic = this.state.profilePic || defaultProfilePic; // Use uploaded picture or default\r\n\r\n//         return (\r\n//             <div className=\"user-data-container\">\r\n//                 <img \r\n//                     src={profilePic} \r\n//                     alt=\"Profile\" \r\n//                     className=\"profile-pic\" \r\n//                 />\r\n//                 <h1>{this.state.userData.firstname}</h1>\r\n//                 <p>Email: {this.state.userData.email}</p>\r\n//                 <input \r\n//                     type=\"file\" \r\n//                     accept=\"image/*\" \r\n//                     onChange={this.handlePhotoChange} \r\n//                     className=\"file-input\" \r\n//                 />\r\n//                 <div className=\"button-container\">\r\n//                     <button onClick={this.handleLogout} className=\"btn\">Logout</button>\r\n//                 </div>\r\n//             </div>\r\n//         );\r\n//     }\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}